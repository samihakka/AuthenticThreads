
<html>
    <head>
        <title> Cart </title>
        <link type= "text/css" rel="stylesheet" href="midterm_style.css">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>

        <style>
           
           
           table{
                text-align: center; background-color: white;
                margin-left:10px;
                font-size: 20px;
                line-height: 2;
                font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                color:rgba(70, 66, 66, 0.61);
                border: 3px solid; border-color: #416f9a;

            }
            
            
            th{
            border: 1px solid;
            text-align: center;
            }

            td{
                border:1px solid;
                padding-left: 10px;

                
            }
        </style>
    </head>
    <header>

        <a href="https://samihakka.github.io/AuthenticThreads"><img style="width: 75px; height: 75px; float: left; margin: 10px;" src="images/logo.png" alt=""> </a>
        <h1 style="width: 100%">Shopping Cart</h1>

   </header>

   <nav>
    <div id = back style="background-color: rgb(214, 214, 252)">

        <ul>
            <li><a href="https://samihakka.github.io/AuthenticThreads/contact">Contact Us </a></li>
            <li><a href="https://samihakka.github.io/AuthenticThreads/about">Abt Us </a></li>
            <li><a href="https://samihakka.github.io/AuthenticThreads/catalog"> Catalog </a></li>
            <li><a href="https://samihakka.github.io/AuthenticThreads/midterm_cart"> Cart </a></li>
            <li><a href="https://samihakka.github.io/AuthenticThreads/midterm_locations"> Locations/Hrs </a></li>
        </ul>
    </div>
    </nav>

    <body>
        <div id = back2 style="background-color: rgb(214, 214, 252);">
        
        <h2>       
            Make your order below:
            <br>
        </h2>
        <br>

        <p id = theButtons style="display: block">
        <input type="radio"  name="coup" value = "No Coupon" checked="checked"/>No Coupon  
        <input type="radio"  name='coup' value = "Coupon"/> Coupon
        </p>

        <script>
            $("input:radio").change(showAddress);

            applied = false;
            function showAddress()
            {
                if (applied)
                {
                    document.getElementsByName("coup")[1].checked = true;
                    return;
                }

                yn = document.getElementsByClassName("coupon");

                if (yn[0].style.display == "none")
		        {
                    yn[0].style.display = "block";
                }                    
                else if(yn[0].style.display == "block")
                {               
                    yn[0].style.display = "none";
                }
            }



        </script>
        
        
        <p class="coupon" style="display: none"><label>Enter Coupon Code: </label> <input type="text"  name='coupon' />
            <button id="button1" style="text-align: center; background-color: #f8d0c3; font-size: 13px;
                border: 2px solid; border-color: rgba(156, 120, 48, 0.447);
                color: #dff7f8; background-color: #416f9a; 
                font-family: sans-serif;" type= "button" onclick=coupon()> Validate </button></center>
    
        </p>
  

        <form name="myForm" style="text-align: center">

            <table style="text-align: left; width:90%">
            <tr>
                <th>Item</th>
                <th>Price ($)</th>
                <th style="color: #7a1a04c7; width: 30px"><strong>Your Order</strong></th>
            </tr>

            <tr>
                <td> Soccer Jersey</td>
                <td id = cost0>99.99 </td>
                <td> <label for="item0"></label>
                    <select id="item0" name="item0">
                    
                        <option value="0" selected> </option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                      </select>
                </td>

            <tr>
                <td> Hockey Jersey</td>
                <td id = cost1>119.99 </td>
                <td> <label for="item1"></label>
                    <select id="item1" name="item1">
                    
                        <option value="0" selected> </option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                       </select>
                </td>
            
               

            <tr>
                <td> Football Jersey</td>
                <td id = cost2>110.99 </td>
                <td> <label for="itme2"></label>
                    <select id="item2" name="item2">
                    
                        <option value="0" selected> </option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                      </select>
                </td>

            <tr>
                <td> Basketball Jersey</td>
                <td id = cost3>89.99 </td>
                <td> <label for="item3"></label>
                    <select id="item3" name="item3">
                    
                        <option value="0" selected> </option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                      </select>
                </td>
                <br>
            </table>
            </form>

        <div class="math" style=" text-align: left">
            <p class="subtotal totalSection"><label>Subtotal</label>: 
                $ <input type="text"  name='subtotal' id="subtotal" />
             </p>
             <p class="shipping totalSection"><label> Shipping 8.25%</label>
               $ <input type="text"  name='shipping' id="shipping" />
             </p>
             <p class="total totalSection"><label>Total:</label> $ <input type="text"  name='total' id="total" />
             </p>
             <br>
        </div>
            

        </div>
    
        <footer> Thanks for Visiting Us! <br>
               
            <a href = #top >  Top Of Page</a>
        

        </div>
        <br><br>
        </footer>

    </body>
    <script>

function addzeros(a)
            {
                parseFloat(a);
                if(a % 1 == 0)
                {
                    a = a + ".0" + "0";
                }
                else if ((a * 10) % 1 == 0)
                {
                    a = a + "0";
                }

                else
                {
                    
                }
            return a;
            }
    
    discount = 0;
    function coupon() //this counts as validation
    {
      
        input = document.getElementsByName("coupon")[0].value;
        if (input == "GREEN" || input == "green" || input == "Green")
            discount = 0.10;
        else if (input == "JUMBOS" || input == "jumbo" || input == "Jumbo")
            discount = 0.20

        if (discount == 0.10 || discount == 0.20)
        {
            var y = document.getElementById("button1");
                   y.style.backgroundColor = "#75c590";
            applied = true;
            alert("Coupon approved");
            calc();
        }
        else
        {
            var y = document.getElementById("button1");
                   y.style.backgroundColor = "rgb(75, 20, 20)";
            alert("Coupon not approved");
        }
}
    addEventListener();
    function addEventListener()
    {
    for (i = 0; i < 4; i++)
		{
			each = document.getElementById("item" + i);
            // alert(each);
            each.addEventListener("change", calc);
		}
    }
    function calc()
    {
        subtotal = 0;
        for (i = 0; i < 4; i++)
        {
            jersey = document.getElementById("item" + i).value;
            cost = document.getElementById("cost" + i).innerHTML;
            subtotal += parseFloat(addzeros(jersey * cost)) //+ the rest
        }

        subtotal = subtotal - (subtotal * discount).toFixed(2);
        document.getElementById("subtotal").value = ((subtotal).toFixed(2));
        ship(subtotal);
    }


    function ship(subtotal)
    {
        shipping = ((subtotal * 0.0825).toFixed(2));
        document.getElementById("shipping").value = shipping;
        totalize();
    }

    function totalize()
    {
        subtotal = parseFloat(subtotal);
        shipping = parseFloat(shipping);
        total = (subtotal + shipping ).toFixed(2);
        document.getElementById("total").value = total;
    }


    </script>
</html>
